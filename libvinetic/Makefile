################################################################################
# libvinetic
################################################################################

WDIR := $(CURDIR)

################################################################################
# tools
################################################################################

CC := $(CROSS_COMPILE)gcc
AR := $(CROSS_COMPILE)ar

INSTALL := install

################################################################################
# compiler/linker flags
################################################################################

CFLAGS = -I. -I.. -O0 -g -pipe -Wall -fPIC

LDFLAGS = -g

LDLIBS = -lc -lgcc -lm

################################################################################
# list of files
################################################################################

# list of C files
C_FILES = \
	libvinetic.c

# list of object files
O_FILES := $(C_FILES:.c=.o)

################################################################################
#
all: libvinetic

%.o: %.c
	$(CC) $(CFLAGS) $< -c -o $@

.PHONY: libvinetic
libvinetic: $(O_FILES)
	$(AR) -rc libvinetic.a $(O_FILES)

libvinetic_install:
	$(INSTALL) -m 755 -d $(DESTDIR)/usr/lib/libvinetic
	$(INSTALL) -m 644 libvinetic.a $(DESTDIR)/usr/lib/libvinetic

################################################################################
# clean
################################################################################

clean:
	rm -f *.o *~ libvinetic.a

################################################################################
